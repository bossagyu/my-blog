<!doctype html><html lang=en-US><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-5JL2R6XT6H"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5JL2R6XT6H")</script><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://bossagyu.com/images/favicon.png><title>How to Set Up Google Analytics with Hugo | Bossagyu Blog</title><meta name=title content="How to Set Up Google Analytics with Hugo"><meta name=description content="Overview This article briefly explains how to set up Google Analytics with Hugo.
Steps to Implementation Register with Google Analytics Obtain the Tracking ID Add the Tracking ID to Hugo&rsquo;s configuration Registering with Google Analytics Follow the instructions on Setting up a new website or app with GA4 to register.
When you add a data stream, you will get a Tracking ID, so make a note of it. â€» The Tracking ID may be displayed as &ldquo;Measurement ID&rdquo; due to translation."><meta name=keywords content><meta property="og:title" content="How to Set Up Google Analytics with Hugo"><meta property="og:description" content="Overview This article briefly explains how to set up Google Analytics with Hugo.
Steps to Implementation Register with Google Analytics Obtain the Tracking ID Add the Tracking ID to Hugo&rsquo;s configuration Registering with Google Analytics Follow the instructions on Setting up a new website or app with GA4 to register.
When you add a data stream, you will get a Tracking ID, so make a note of it. â€» The Tracking ID may be displayed as &ldquo;Measurement ID&rdquo; due to translation."><meta property="og:type" content="article"><meta property="og:url" content="https://bossagyu.com/en/blog/003-google-analytics/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-12-09T18:09:42+09:00"><meta property="article:modified_time" content="2023-12-09T18:09:42+09:00"><meta property="fb:admins" content="0000000000"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Set Up Google Analytics with Hugo"><meta name=twitter:description content="Overview This article briefly explains how to set up Google Analytics with Hugo.
Steps to Implementation Register with Google Analytics Obtain the Tracking ID Add the Tracking ID to Hugo&rsquo;s configuration Registering with Google Analytics Follow the instructions on Setting up a new website or app with GA4 to register.
When you add a data stream, you will get a Tracking ID, so make a note of it. â€» The Tracking ID may be displayed as &ldquo;Measurement ID&rdquo; due to translation."><meta name=twitter:site content="@example"><meta itemprop=name content="How to Set Up Google Analytics with Hugo"><meta itemprop=description content="Overview This article briefly explains how to set up Google Analytics with Hugo.
Steps to Implementation Register with Google Analytics Obtain the Tracking ID Add the Tracking ID to Hugo&rsquo;s configuration Registering with Google Analytics Follow the instructions on Setting up a new website or app with GA4 to register.
When you add a data stream, you will get a Tracking ID, so make a note of it. â€» The Tracking ID may be displayed as &ldquo;Measurement ID&rdquo; due to translation."><meta itemprop=datePublished content="2023-12-09T18:09:42+09:00"><meta itemprop=dateModified content="2023-12-09T18:09:42+09:00"><meta itemprop=wordCount content="327"><meta itemprop=keywords content><meta name=referrer content="no-referrer-when-downgrade"><link href=/style.min.css rel=stylesheet><link href=/syntax.min.css rel=stylesheet></head><body><header><a class=skip-link href=#main-content>Skip to main content</a>
<a href=/en/ class=title><h1>Bossagyu Blog</h1></a><nav><a href=/>Home</a>
<a href=/en/></a>
<a href=/en/blog/>Blog</a>
<a href=https://bossagyu.com/blog/003-google-analytics/>ja-jp ðŸ‡¯ðŸ‡µ</a></nav></header><main id=main-content><h1>How to Set Up Google Analytics with Hugo</h1><p class=byline><time datetime=2023-12-09 pubdate>2023-12-09</time></p><content><h2 id=overview>Overview</h2><p>This article briefly explains how to set up Google Analytics with Hugo.</p><h2 id=steps-to-implementation>Steps to Implementation</h2><ol><li>Register with Google Analytics</li><li>Obtain the Tracking ID</li><li>Add the Tracking ID to Hugo&rsquo;s configuration</li></ol><h2 id=registering-with-google-analytics>Registering with Google Analytics</h2><p>Follow the instructions on <a href="https://support.google.com/analytics/answer/9304153?hl=ja">Setting up a new website or app with GA4</a> to register.<br>When you add a data stream, you will get a Tracking ID, so make a note of it.
<img src=/blog/img-003-001.png alt=img-003-001.png>
â€» The Tracking ID may be displayed as &ldquo;Measurement ID&rdquo; due to translation.</p><h2 id=adding-tracking-id-to-hugos-configuration>Adding Tracking ID to Hugo&rsquo;s Configuration</h2><h3 id=add-settings-in-toml>Add settings in toml</h3><p>Add <code>googleAnalytics = Tracking ID</code> to your config.toml.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>baseURL</span> = <span style=color:#e6db74>&#39;https://bossagyu.com&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>languageCode</span> = <span style=color:#e6db74>&#39;ja-jp&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>title</span> = <span style=color:#e6db74>&#39;Bossagyu Blog&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>theme</span> = <span style=color:#e6db74>&#39;hugo-bearcub&#39;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>googleAnalytics</span> = <span style=color:#e6db74>&#34;G-1234ABCDEF&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># â†‘ Add this line, replace the Tracking ID with your own.</span></span></span></code></pre></div><h3 id=embedding-the-tracking-code>Embedding the Tracking Code</h3><p>Some templates might read settings from the toml file, but the <a href=https://github.com/clente/hugo-bearcub/tree/main>bearcub</a> template I use does not support this, so I added the tracking code to the header myself.</p><p>For the code snippet, I referred to <a href=https://github.com/clente/hugo-bearcub/tree/main>Makumaku Hugo Notes</a>.</p><p>Create <code>layouts/partials/analytics.html</code> to load the tracking code.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>{{ if not .Site.IsServer }}
</span></span><span style=display:flex><span>{{ with .Site.GoogleAnalytics }}
</span></span><span style=display:flex><span><span style=color:#75715e>&lt;!-- Google tag (gtag.js) --&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>async</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://www.googletagmanager.com/gtag/js?id={{ . }}&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>    window.<span style=color:#a6e22e>dataLayer</span> <span style=color:#f92672>=</span> window.<span style=color:#a6e22e>dataLayer</span> <span style=color:#f92672>||</span> [];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>gtag</span>(){<span style=color:#a6e22e>dataLayer</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>arguments</span>);}
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gtag</span>(<span style=color:#e6db74>&#39;js&#39;</span>, <span style=color:#66d9ef>new</span> Date());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gtag</span>(<span style=color:#e6db74>&#39;config&#39;</span>, <span style=color:#e6db74>&#39;{{ . }}&#39;</span>);
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>script</span>&gt;
</span></span><span style=display:flex><span>{{ end }}
</span></span><span style=display:flex><span>{{ end }}</span></span></code></pre></div><p>Make the page header load <code>analytics.html</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e># Copy the content of the template to override it</span>
</span></span><span style=display:flex><span>cp themes/hugo-bearcub/layouts/_default/baseof.html layouts/_default/baseof.html 
</span></span><span style=display:flex><span>vim layouts/_default/baseof.html </span></span></code></pre></div><p>Add <code>{{- partial "analytics" . -}}</code> to baseof.html.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ with .Site.LanguageCode }}{{ . }}{{ else }}en-US{{ end }}&#34;</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=color:#f92672>head</span>&gt;
</span></span><span style=display:flex><span>  {{- partial &#34;analytics&#34; . -}}
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>http-equiv</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;X-Clacks-Overhead&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;GNU Terry Pratchett&#34;</span> <span style=color:#960050;background-color:#1e0010>/</span></span></span></code></pre></div><p>After adding the above source code and rebuilding, data will be sent to Google Analytics.</p><h2 id=tips>Tips</h2><p>If it seems like data is not being transmitted to Google Analytics despite these steps, it&rsquo;s possible that the tags have not been added correctly.<br>To troubleshoot, first check if the tracking is included in the HTML by using Google Developer Tools.</p></content><p></p></main><footer><small>Â©2023 Bossagyu |</small></footer></body></html>